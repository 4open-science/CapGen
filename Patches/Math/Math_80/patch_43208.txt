--- original/org/apache/commons/math/linear/AbstractRealMatrix.java
+++ fixed/org/apache/commons/math/linear/AbstractRealMatrix.java
@@ -603,7 +603,8 @@ public abstract class AbstractRealMatrix implements RealMatrix {
         final int nRows = getRowDimension();
         final int nCols = getColumnDimension();
         final RealMatrix out = createMatrix(nCols, nRows);
-        walkInOptimizedOrder(new DefaultRealMatrixPreservingVisitor() {
+        if (nRows != nCols) {    throw new org.apache.commons.math.linear.NonSquareMatrixException(nRows, nCols);}
+walkInOptimizedOrder(new DefaultRealMatrixPreservingVisitor() {
 
             /** {@inheritDoc} */
             @Override
